<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>



    <form method="post">
        <table>
            <tr>
                <td> kkkk </td>
                <td>
                    <input type="text" class="thisrequired" name="username" id="username">
                </td>
            </tr>
            <tr>
                <td>password</td>
                <td><input type="text" class="thisrequired" name="password" id="password">
                </td>
            </tr>
            <tr>
                <td>confirm password</td>
                <td>
                    <input type="text" name="confirm password" id="nfield" class="thisrequired">
                </td>
            </tr>
            <tr>
                <td>new field</td>
                <td><input type="text" name="nfield" id="nfield" class="thisrequired"></td>
            </tr>
            <tr>
                <td>email</td>
                <td><input type="text" name="email" id="email" class="thisrequired"></td>
            </tr>
            <tr>
                <td>mobile</td>
                <td><input type="text" class="thisrequired" name="mobile" id="mobile" pattern="[0-9]+" minlength="10"
                        maxlength="10" title="please enter number only"></td>
            </tr>
            <tr>
                <td colspan="2"><input type="submit" name="btn" id="btn"></td>
            </tr>
        </table>
    </form>
    <script>

        var inputget = document.getElementsByClassName("thisrequired");
        // var inputget = document.querySelectorAll("[required]");

        // var inputget = document.querySelector(".thisrequired")
        for (let index = 0; index < inputget.length; index++) {
            inputget[index].addEventListener('blur', function (e) {
                // console.log(e.target);
                var txt = document.createElement("SPAN");
                var name = this.getAttribute('name');
                var error = name + "error";

                txt.setAttribute("style", "background-color: lightgray;");

                // txt.style.cssText = `
                //                                      color:red; 
                //   background:black;
                // `;
                // txt.style.cssText = "color: red; background:black;";



                txt.innerHTML = `this filed ${error}`;
                console.log(this);
                if (this.value == "") {
                    if (this.nextSibling !== "SPAN") {
                        // inputget[index].parentNode.appendChild(txt);
                        this.insertAdjacentElement("afterend", txt)
                    }
                } else {
                    if (this.nextElementSibling.nodeName === "SPAN") {
                        this.nextSibling.remove()
                    }
                }


                // if (inputget[index].value == "") {
                //     if (inputget[index].nextSibling !== "SPAN") {
                //         // inputget[index].parentNode.appendChild(txt);

                //         inputget[index].insertAdjacentElement("afterend", txt)
                //     }
                // } else {
                //     if (inputget[index].nextElementSibling.nodeName === "SPAN") {
                //         inputget[index].nextSibling.remove()
                //     }
                // }

            })

        }

    </script>

</body>

</html>